Perfect ðŸ‘ now weâ€™ll upgrade your tree search into a **proper interview / industry-level React component**:

Youâ€™ll get:

âœ… Expand / Collapse tree nodes
âœ… Highlight matched search text
âœ… Auto suggest search
âœ… Clean component logic
âœ… Real **code-level testing strategy** (unit + behavior testing)

Iâ€™ll keep it structured so you can implement step-by-step.

---

# âœ… PART 1 â€” Expand / Collapse Tree Nodes

## ðŸ“„ Update `TreeView.js`

```javascript
import { useState } from "react";

function highlight(text, query) {
 if (!query) return text;

 const parts = text.split(new RegExp(`(${query})`, "gi"));

 return parts.map((p, i) =>
   p.toLowerCase() === query.toLowerCase()
     ? <span key={i} style={{fontWeight:"bold"}}>{p}</span>
     : p
 );
}

function TreeView({ data, query }) {

 return (
   <ul>
     {data.map(node => (
       <TreeNode key={node.id} node={node} query={query}/>
     ))}
   </ul>
 );
}

function TreeNode({ node, query }) {

 const [open, setOpen] = useState(false);

 return (
   <li>
     {node.children && (
       <button onClick={() => setOpen(!open)}>
         {open ? "-" : "+"}
       </button>
     )}

     {highlight(node.name, query)}

     {open && node.children && (
       <TreeView data={node.children} query={query}/>
     )}
   </li>
 );
}

export default TreeView;
```

---

# âœ… PART 2 â€” Update App Logic

ðŸ“„ `App.js`

```javascript
const [query, setQuery] = useState("");
const [filtered, setFiltered] = useState(treeData);

<SearchBar
 data={treeData}
 onSearch={(q)=>{
   setQuery(q);
   setFiltered(q ? filterTree(treeData,q):treeData);
 }}
/>

<TreeView data={filtered} query={query}/>
```

---

# âœ… PART 3 â€” Code Level Testing Strategy (VERY IMPORTANT ðŸ”¥)

In real companies we test:

| What                 | Type               |
| -------------------- | ------------------ |
| Search input         | Unit test          |
| Suggestion rendering | UI test            |
| Expand collapse      | Interaction test   |
| Highlight logic      | Pure function test |
| Tree filtering       | Logic test         |

---

# âœ… PART 4 â€” Test Expand Collapse

ðŸ“„ `TreeView.test.js`

```javascript
import { render, screen, fireEvent } from "@testing-library/react";
import TreeView from "./TreeView";

test("expand collapse node", () => {

 const data=[{
   id:1,
   name:"Fruits",
   children:[{id:2,name:"Apple"}]
 }];

 render(<TreeView data={data} query=""/>);

 const button=screen.getByText("+");

 fireEvent.click(button);

 expect(screen.getByText("Apple")).toBeInTheDocument();
});
```

---

# âœ… PART 5 â€” Test Highlight Function

Move highlight into utility file:

ðŸ“„ `utils/highlight.js`

```javascript
export function highlightText(text, query){
 if(!query) return [text];

 return text.split(new RegExp(`(${query})`,"gi"));
}
```

Test:

```javascript
import { highlightText } from "./highlight";

test("highlight splits text", ()=>{
 const result=highlightText("Apple","App");
 expect(result.length).toBeGreaterThan(1);
});
```

---

# âœ… PART 6 â€” Test Auto Suggest

```javascript
test("shows suggestions", ()=>{
 render(<SearchBar data={[{name:"Apple"}]} onSearch={()=>{}}/>);

 fireEvent.change(
   screen.getByPlaceholderText("Search..."),
   {target:{value:"App"}}
 );

 expect(screen.getByText("Apple")).toBeInTheDocument();
});
```

---

# ðŸ§  REAL INDUSTRY TESTING RULES

Developers usually test:

ðŸ‘‰ Pure functions separately
ðŸ‘‰ UI interactions using testing-library
ðŸ‘‰ Avoid testing internal state
ðŸ‘‰ Test behavior not implementation

---

# ðŸš€ REAL INTERVIEW UPGRADE (highly recommended for you)

Since you're doing:

Spring Boot + React + Full Stack

Next level features recruiters LOVE:

ðŸ”¥ Keyboard navigation search
ðŸ”¥ Debounce search input
ðŸ”¥ Lazy loading tree from backend
ðŸ”¥ Highlight with background color
ðŸ”¥ Virtualized large tree (performance)
ðŸ”¥ Jest + Cypress E2E testing

---

If you wantâ€¦ I can give you a **FAANG-level Machine Coding Round Version** of this tree search ðŸ˜„
(the one used in Amazon / Walmart / PhonePe interviews)

Just say:

ðŸ‘‰ **"Give me machine coding round version"** ðŸš€





Nice ðŸ‘ this is actually a **very real industry UI feature** â€” search bar + tree nodes + auto-suggest + test cases.
Iâ€™ll give you a **clear step-by-step mini project** so you can run it locally.

Weâ€™ll build:

ðŸ‘‰ React Search Bar
ðŸ‘‰ Tree Structure (like folders/categories)
ðŸ‘‰ Auto Suggest Dropdown
ðŸ‘‰ Filter Tree Based on Search
ðŸ‘‰ Basic Test Cases (Jest + React Testing Library)

---

# âœ… STEP 1 â€” Create React Project

Open terminal:

```bash
npx create-react-app tree-search-app
cd tree-search-app
npm start
```

---

# âœ… STEP 2 â€” Project Structure

Inside `src` create:

```
components/
   SearchBar.js
   TreeView.js
data/
   treeData.js
```

---

# âœ… STEP 3 â€” Create Tree Data

ðŸ“„ `src/data/treeData.js`

```javascript
const treeData = [
  {
    id: 1,
    name: "Fruits",
    children: [
      { id: 2, name: "Apple" },
      { id: 3, name: "Banana" }
    ]
  },
  {
    id: 4,
    name: "Vegetables",
    children: [
      { id: 5, name: "Carrot" },
      { id: 6, name: "Potato" }
    ]
  }
];

export default treeData;
```

---

# âœ… STEP 4 â€” Search Bar with Auto Suggest

ðŸ“„ `SearchBar.js`

```javascript
import { useState } from "react";

function SearchBar({ data, onSearch }) {

 const [query, setQuery] = useState("");

 const flattenData = (nodes) => {
   let result = [];
   nodes.forEach(n => {
     result.push(n.name);
     if (n.children) {
       result = result.concat(flattenData(n.children));
     }
   });
   return result;
 };

 const suggestions = flattenData(data).filter(item =>
   item.toLowerCase().includes(query.toLowerCase())
 );

 return (
   <div>
     <input
       placeholder="Search..."
       value={query}
       onChange={(e) => {
         setQuery(e.target.value);
         onSearch(e.target.value);
       }}
     />

     {query && (
       <ul>
         {suggestions.map((s, i) => (
           <li key={i}>{s}</li>
         ))}
       </ul>
     )}
   </div>
 );
}

export default SearchBar;
```

---

# âœ… STEP 5 â€” Tree View Component

ðŸ“„ `TreeView.js`

```javascript
function TreeView({ data }) {

 return (
   <ul>
     {data.map(node => (
       <li key={node.id}>
         {node.name}
         {node.children && <TreeView data={node.children} />}
       </li>
     ))}
   </ul>
 );
}

export default TreeView;
```

---

# âœ… STEP 6 â€” Main App Logic

ðŸ“„ `App.js`

```javascript
import { useState } from "react";
import treeData from "./data/treeData";
import SearchBar from "./components/SearchBar";
import TreeView from "./components/TreeView";

function App() {

 const [filtered, setFiltered] = useState(treeData);

 const filterTree = (nodes, query) => {
   return nodes
     .map(node => {
       if (node.name.toLowerCase().includes(query.toLowerCase())) {
         return node;
       }
       if (node.children) {
         const children = filterTree(node.children, query);
         if (children.length) {
           return { ...node, children };
         }
       }
       return null;
     })
     .filter(Boolean);
 };

 return (
   <div>
     <h2>Tree Search App</h2>

     <SearchBar
       data={treeData}
       onSearch={(q) =>
         setFiltered(q ? filterTree(treeData, q) : treeData)
       }
     />

     <TreeView data={filtered} />
   </div>
 );
}

export default App;
```

---

# âœ… STEP 7 â€” Install Testing Library

```bash
npm install @testing-library/react @testing-library/jest-dom
```

---

# âœ… STEP 8 â€” Test Case Example

ðŸ“„ `SearchBar.test.js`

```javascript
import { render, screen, fireEvent } from "@testing-library/react";
import SearchBar from "./SearchBar";

test("shows suggestions", () => {

 const data = [{ name: "Apple" }];

 render(<SearchBar data={data} onSearch={() => {}} />);

 const input = screen.getByPlaceholderText("Search...");
 fireEvent.change(input, { target: { value: "App" } });

 expect(screen.getByText("Apple")).toBeInTheDocument();
});
```

Run test:

```bash
npm test
```

---

# âœ… WHAT YOU BUILT (Industry Features)

âœ” Recursive Tree Rendering
âœ” Auto Suggest Search
âœ” Dynamic Filtering
âœ” Component Communication
âœ” Unit Testing

---

# ðŸš€ If You Want â€” I Can Upgrade This to REAL INDUSTRY LEVEL

Since youâ€™re preparing full stack + interviews ðŸ˜„ I can give you:

ðŸ”¥ Tree Search with Expand/Collapse
ðŸ”¥ Highlight matched text
ðŸ”¥ Backend API search (Spring Boot)
ðŸ”¥ Lazy loading nodes
ðŸ”¥ 10/10 Interview React Machine Coding Question Version

Just say:

ðŸ‘‰ **"Give me industry level tree search implementation"** ðŸš€
